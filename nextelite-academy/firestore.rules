    // Custom Pages (managed via CMS)
    match /customPages/{pageId} {
      allow read: if true;
      allow write: if request.auth != null;
    }
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow read for everyone (public content)
    match /{document=**} {
      allow read: if true;
    }
    
    // Language-specific collections structure now uses suffixes:
    //   courses_en, courses_zh, instructors_en, instructors_zh, etc.
    // Allow write for authenticated users only
    
    // Courses collections (managed via CMS)
    match /courses_en/{courseId} {
      allow write: if true;
    }
    match /courses_zh/{courseId} {
      allow write: if true;
    }
    
    // Instructors collections (managed via CMS)
    match /instructors_en/{instructorId} {
      allow write: if true;
    }
    match /instructors_zh/{instructorId} {
      allow write: if true;
    }
    
    // Blog Posts collections (managed via CMS)
    match /blogPosts_en/{postId} {
      allow write: if true;
    }
    match /blogPosts_zh/{postId} {
      allow write: if true;
    }
    
    // Theme Colors: themeColors_en/main, themeColors_zh/main (managed via CMS)
    match /themeColors_en/{settingId} {
      allow write: if true;
    }
    match /themeColors_zh/{settingId} {
      allow write: if true;
    }
    
    // Trial Settings: trialSettings_en/main, trialSettings_zh/main (managed via CMS)
    match /trialSettings_en/{settingId} {
      allow write: if true;
    }
    match /trialSettings_zh/{settingId} {
      allow write: if true;
    }
    
    // Submissions: submissions_en/{submissionId}, submissions_zh/{submissionId}
    match /submissions_en/{submissionId} {
      allow create: if true; // Anyone can submit (contact forms, trial bookings)
      allow read, update, delete: if request.auth != null;
    }
    match /submissions_zh/{submissionId} {
      allow create: if true; // Anyone can submit (contact forms, trial bookings)
      allow read, update, delete: if request.auth != null;
    }
    
    // Translations: translations_en/main, translations_zh/main (managed via CMS)
    match /translations_en/{settingId} {
      allow write: if true;
    }
    match /translations_zh/{settingId} {
      allow write: if true;
    }
    
    // Lookup Lists: lookupLists_en/main, lookupLists_zh/main (managed via CMS)
    match /lookupLists_en/{settingId} {
      allow write: if true;
    }
    match /lookupLists_zh/{settingId} {
      allow write: if true;
    }
    match /translations_zh/{settingId} {
      allow write: if true;
    }
    
    // Page Content: pageContent_en/main, pageContent_zh/main (managed via CMS)
    match /pageContent_en/{settingId} {
      allow write: if true;
    }
    match /pageContent_zh/{settingId} {
      allow write: if true;
    }
    
    // Images collection (for storage metadata) - CMS managed, no auth required
    match /images/{imageId} {
      allow read, write: if true;
    }
    
    // Custom Pages: en_pages/{pageId}, zh_pages/{pageId} (managed via CMS)
    match /en_pages/{pageId} {
      allow read, write: if true;
    }
    match /zh_pages/{pageId} {
      allow read, write: if true;
    }
    
    // Menu Items: en_menu/{itemId}, zh_menu/{itemId} (managed via CMS)
    match /en_menu/{itemId} {
      allow read, write: if true;
    }
    match /zh_menu/{itemId} {
      allow read, write: if true;
    }
  }
}
